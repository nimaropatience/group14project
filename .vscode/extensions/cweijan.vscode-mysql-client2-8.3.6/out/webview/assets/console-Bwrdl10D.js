import"./isEqual-DUAGDpZY.js";import{ElOption as e,ElSelect as t}from"./select-DBPzawsW.js";import"./_baseFindIndex-Ctm2P5pj.js";import"./_baseIteratee-t-25AuYs.js";import"./use-empty-values-iILzsRnu.js";import"./click-outside-CeocQVdO.js";import{ElCheckbox as n}from"./checkbox-C8nKweXK.js";import"./tag-ByueM0Jv.js";import{ElPopover as r}from"./popover-DFFV5wnj.js";import{$t as i,ElInput as a,Fragment as o,__plugin_vue_export_helper_default as s,computed as c,createBaseVNode as l,createBlock as u,createCommentVNode as d,createElementBlock as f,createTextVNode as p,createVNode as m,defineComponent as h,error as g,handler as _,normalizeClass as v,notify as y,onMounted as b,openBlock as x,ref as S,renderList as C,renderSlot as w,resolveComponent as T,success as E,toDisplayString as D,unref as O,useCoreStore as k,withCtx as A}from"./app-ctFZFRv9.js";const j={class:`card`};var M=h({__name:`Card`,props:{full:Boolean},setup(e){return(t,n)=>(x(),f(`div`,{class:v([`card-container`,{"card-container-full":e.full}])},[l(`div`,j,[w(t.$slots,`default`,{},void 0,!0)])],2))}}),N=s(M,[[`__scopeId`,`data-v-798fd364`]]);const P={style:{"min-width":`290px`}},F={style:{"font-size":`16px`,"font-weight":`700`,"padding-bottom":`0`,"padding-top":`8px`}},I={class:`mt-4 mb-2 flex items-center`},L={class:`mr-2`},R={class:`mt-4 mb-2`},z={class:`mr-2`},ee={class:`text-right mt-2`},te={class:`mt-4 mb-2`},ne={class:`mr-2`},re={class:`text-right mt-2`};var B=h({__name:`ConnectionConfig`,setup(e){let t=k(),n=S(!1),i=S(!1);_.on(`importConfirm`,()=>{n.value=!0}).on(`importWorkspaceConfirm`,()=>{i.value=!0}).on(`importResult`,({success:e,message:t,cancel:r})=>{if(n.value=!1,i.value=!1,r)return;let a=e?1e3:2e3,o=e?`success`:`error`;y({duration:a,message:t,type:o})});let a=e=>{_.emit(`editConfig`,e)},o=e=>{_.emit(`exportConfig`,{workspace:e===!0,withQueryFiles:t.uiState.consoleOption.exportWithAdditionalFiles})},s=(e={})=>{_.emit(`importConfig`,e)};return(e,c)=>{let d=T(`vsc-switch`),f=T(`vsc-button`),h=r,g=T(`pay-badge`);return x(),u(N,{class:`!mb-3`},{default:A(()=>[l(`div`,P,[l(`div`,F,D(e.$t(`console.configuration`)),1),l(`section`,I,[l(`span`,L,D(e.$t(`console.exportWithAdditionalFiles`))+`:`,1),m(d,{modelValue:O(t).uiState.consoleOption.exportWithAdditionalFiles,"onUpdate:modelValue":c[0]||=e=>O(t).uiState.consoleOption.exportWithAdditionalFiles=e,onChange:c[1]||=e=>O(t).upState(`consoleOption`)},null,8,[`modelValue`])]),l(`section`,R,[m(g,{left:0},{default:A(()=>[l(`span`,z,D(e.$t(`connect.current`))+`:`,1),m(f,{type:`secondary`,icon:`codicon-edit`,disabled:!O(t).isPay,size:`mini`,onClick:c[2]||=e=>a(!0)},null,8,[`disabled`]),m(f,{icon:`codicon-arrow-down`,disabled:!O(t).isPay,size:`mini`,onClick:c[3]||=e=>o(!0)},null,8,[`disabled`]),m(h,{placement:`top`,visible:i.value,trigger:`manual`,class:`ml-7px`},{reference:A(()=>[m(f,{icon:`codicon-arrow-up`,disabled:!O(t).isPay,size:`mini`,onClick:c[7]||=e=>s({workspace:!0})},null,8,[`disabled`])]),default:A(()=>[l(`p`,null,D(e.$t(`console.mergeConfirm`)),1),l(`div`,ee,[m(f,{type:`secondary`,size:`mini`,onClick:c[4]||=e=>i.value=!1},{default:A(()=>[p(D(e.$t(`common.cancel`)),1)]),_:1}),m(f,{onClick:c[5]||=e=>s({type:`merge`,workspace:!0})},{default:A(()=>[p(D(e.$t(`console.merge`)),1)]),_:1}),m(f,{onClick:c[6]||=e=>s({type:`overwrite`,workspace:!0})},{default:A(()=>[p(D(e.$t(`console.overwrite`)),1)]),_:1})])]),_:1},8,[`visible`])]),_:1})]),l(`section`,te,[l(`span`,ne,D(e.$t(`connect.global`))+`:`,1),m(f,{type:`secondary`,icon:`codicon-edit`,size:`mini`,onClick:a},{default:A(()=>[p(D(e.$t(`console.edit`)),1)]),_:1}),m(f,{icon:`codicon-arrow-down`,size:`mini`,onClick:o},{default:A(()=>[p(D(e.$t(`console.export`)),1)]),_:1}),m(h,{placement:`top`,visible:n.value,trigger:`manual`,class:`ml-7px`},{reference:A(()=>[m(f,{icon:`codicon-arrow-up`,size:`mini`,onClick:c[11]||=e=>s()},{default:A(()=>[p(D(e.$t(`console.import`)),1)]),_:1})]),default:A(()=>[l(`p`,null,D(e.$t(`console.mergeConfirm`)),1),l(`div`,re,[m(f,{type:`secondary`,onClick:c[8]||=e=>n.value=!1},{default:A(()=>[p(D(e.$t(`common.cancel`)),1)]),_:1}),m(f,{onClick:c[9]||=e=>s({type:`merge`})},{default:A(()=>[p(D(e.$t(`console.merge`)),1)]),_:1}),m(f,{onClick:c[10]||=e=>s({type:`overwrite`})},{default:A(()=>[p(D(e.$t(`console.overwrite`)),1)]),_:1})])]),_:1},8,[`visible`])])])]),_:1})}}}),V=B;const H={style:{"min-width":`290px`}},U={style:{"font-size":`16px`,"font-weight":`700`,"padding-bottom":`0`,"padding-top":`8px`}},W={key:0,class:`mt-2 flex items-center`},G={class:`mr-2`},K={style:{"margin-top":`5px`,"margin-bottom":`10px`}},q={style:{"text-align":`right`,margin:`0`}},J={style:{"margin-top":`5px`,"margin-bottom":`10px`}},Y={style:{"text-align":`right`,margin:`0`}},X={style:{"margin-top":`5px`,"margin-bottom":`10px`}},ie={style:{"text-align":`right`,margin:`0`}},ae={class:`mt-3`};var oe=h({__name:`CloudSync`,setup(e){let t=k(),n=S(!1),i=S(!1),o=S(!1),s=S(!1),h=S(null),v=S(!1),C=S(!1),w=S(!1),E=S(!1),O=S(null),j=c(()=>/(code-server|Cursor|Trae|Windsurf)/i.test(O.value));b(()=>{n.value=t.config.autoSync,_.on(`appName`,e=>{O.value=e}).on(`downloadConfirm`,()=>{w.value=!1,s.value=!0}).on(`downloadResult`,({success:e,message:t})=>{w.value=!1;let n=e?1e3:3e3,r=e?`success`:`error`;y({duration:n,message:t,type:r})}).on(`uploadRes`,({success:e,message:t})=>{v.value=!1;let n=e?1e3:3e3,r=e?`success`:`error`;y({duration:n,message:t,type:r})}).on(`removeRes`,({success:e,message:t})=>{C.value=!1;let n=e?1e3:3e3,r=e?`success`:`error`;y({duration:n,message:t,type:r})}).on(`syncKey`,e=>{(!h.value||E.value)&&(h.value=e,E.value=!1)})});let M=()=>{_.emit(`updateOption`,{name:`autoSync`,value:n.value})},P=()=>{_.emit(`open`,`https://github.com/cweijan/vscode-database-client/wiki/About-Cloud-Sync`)},F=()=>{E.value=!0,_.emit(`chooseSyncKey`)},I=()=>{if(!t.isPay){g(`Free account not support upload configuration!`);return}i.value=!1,v.value=!0,_.emit(`uploadConfig`,h.value)},L=()=>{o.value=!1,C.value=!0,_.emit(`removeConfig`)},R=e=>{if(!t.isPay){g(`Free account not support sync data!`);return}s.value=!1,w.value=!0,_.emit(`downloadConfig`,{keyPath:h.value,type:e})},z=e=>{if(!t.user){g(`Please log in to your account first.`),e.stopPropagation();return}};return(e,t)=>{let c=T(`vsc-button`),g=T(`vsc-switch`),_=r,y=a;return x(),u(N,{class:`!mb-3`},{default:A(()=>[l(`div`,H,[l(`div`,U,[p(D(e.$t(`console.sync`))+` `,1),m(c,{class:`ml-2`,size:`micro`,onClick:P},{default:A(()=>t[10]||=[l(`i`,{class:`el-icon-document`},null,-1)]),_:1})]),j.value?d(``,!0):(x(),f(`div`,W,[l(`label`,G,D(e.$t(`console.autoSync`)),1),m(g,{modelValue:n.value,"onUpdate:modelValue":t[0]||=e=>n.value=e,onChange:M},null,8,[`modelValue`])])),l(`div`,{class:`mt-2`,onClickCapture:z},[m(_,{placement:`top`,visible:o.value,trigger:`manual`},{reference:A(()=>[m(c,{type:`secondary`,size:`mini`,icon:`codicon-trash`,loading:C.value,onClick:t[2]||=e=>o.value=!0},{default:A(()=>[p(D(e.$t(`console.remove`)),1)]),_:1},8,[`loading`])]),default:A(()=>[l(`p`,K,D(e.$t(`console.removeConfirm`)),1),l(`div`,q,[m(c,{type:`secondary`,size:`mini`,onClick:t[1]||=e=>o.value=!1},{default:A(()=>[p(D(e.$t(`common.cancel`)),1)]),_:1}),m(c,{size:`mini`,onClick:L},{default:A(()=>[p(D(e.$t(`result.confirm`)),1)]),_:1})])]),_:1},8,[`visible`]),m(_,{placement:`top`,visible:i.value,trigger:`manual`,class:`ml-7px`},{reference:A(()=>[m(c,{icon:`codicon-cloud-upload`,size:`mini`,loading:v.value,onClick:t[4]||=e=>i.value=!0},{default:A(()=>[p(D(e.$t(`console.upload`)),1)]),_:1},8,[`loading`])]),default:A(()=>[l(`p`,J,D(e.$t(`console.uploadConfirm`)),1),l(`div`,Y,[m(c,{type:`secondary`,onClick:t[3]||=e=>i.value=!1},{default:A(()=>[p(D(e.$t(`common.cancel`)),1)]),_:1}),m(c,{onClick:I},{default:A(()=>[p(D(e.$t(`result.confirm`)),1)]),_:1})])]),_:1},8,[`visible`]),m(_,{placement:`top`,visible:s.value,trigger:`manual`,class:`ml-7px`},{reference:A(()=>[m(c,{icon:`codicon-cloud-download`,size:`mini`,loading:w.value,onClick:t[8]||=e=>R()},{default:A(()=>[p(D(e.$t(`console.download`)),1)]),_:1},8,[`loading`])]),default:A(()=>[l(`p`,X,D(e.$t(`console.mergeConfirm`)),1),l(`div`,ie,[m(c,{type:`secondary`,onClick:t[5]||=e=>s.value=!1},{default:A(()=>[p(D(e.$t(`common.cancel`)),1)]),_:1}),m(c,{onClick:t[6]||=e=>R(`merge`)},{default:A(()=>[p(D(e.$t(`console.merge`)),1)]),_:1}),m(c,{onClick:t[7]||=e=>R(`overwrite`)},{default:A(()=>[p(D(e.$t(`console.overwrite`)),1)]),_:1})])]),_:1},8,[`visible`]),l(`div`,ae,[m(y,{modelValue:h.value,"onUpdate:modelValue":t[9]||=e=>h.value=e,size:`small`,class:`!w-56`,placeholder:`Sync Encryption Key(Optional)`},null,8,[`modelValue`]),m(c,{icon:`codicon-file`,size:`mini`,class:`!ml-1 relative`,style:{top:`3px`},onClick:F})])],32)])]),_:1})}}}),se=oe;const ce={style:{"min-width":`290px`}},le={style:{"font-size":`16px`,"font-weight":`700`,"padding-bottom":`0`,"padding-top":`8px`}},ue={class:`mt-3 mb-2`},de={class:`mt-3 mb-1`};var fe=h({__name:`OtherOptions`,setup(e){let t=S(!1),n=()=>{E(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`)},r=()=>{_.emit(`clearCache`)},i=()=>{_.emit(`open`,`https://github.com/cweijan/vscode-database-client/issues`)};return(e,t)=>{let n=T(`vsc-button`);return x(),u(N,null,{default:A(()=>[l(`div`,ce,[l(`div`,le,D(e.$t(`console.other`)),1),l(`div`,ue,[m(n,{icon:`codicon-chrome-close`,size:`mini`,onClick:t[0]||=e=>{O(_).emit(`closeAllConnections`)}},{default:A(()=>[p(D(e.$t(`toolbar.closeAllConnections`)),1)]),_:1})]),l(`div`,de,[m(n,{icon:`codicon-github-inverted`,size:`mini`,onClick:i},{default:A(()=>[p(D(e.$t(`toolbar.reportIssue`)),1)]),_:1}),m(n,{icon:`codicon-clear-all`,size:`mini`,onClick:r},{default:A(()=>[p(D(e.$t(`toolbar.clearCache`)),1)]),_:1})])])]),_:1})}}}),pe=fe,me=h({__name:`ConsoleSide`,setup(e){return(e,t)=>(x(),f(`div`,null,[m(V),m(se),m(pe)]))}}),he=me;const Z={editor:[`enableSQLVariable`,`enableEditorCodeLens`,`highlightSQLBlock`,`bindConnectionByActiveMark`],result:[`openResultsAsVertically`,`splitEditorWhenQuery`,`autoGetTableCount`],treeView:[`showSecurity`,`saveConnectionExpandedState`,`terminalLocation`],sql:[`escapedAllObjectName`,`rememberSQLVariables`,`capitalizeKeywordsWhenFormatting`,`autoPagingSQL`,`queryWithSchema`]};function Q(e,t){let n=Z[e];return t.filter(e=>n.includes(e.name)).sort((e,t)=>n.indexOf(e.name)-n.indexOf(t.name))}const $={escapedAllObjectName:[{value:`auto`,label:`Auto`},{value:`never`,label:`Never`},{value:`always`,label:`Always`}],terminalLocation:[{value:`Panel`,label:`Panel`},{value:`Editor`,label:`Editor`}]},ge={class:`flex flex-wrap justify-center console-container`},_e={class:`option-container`},ve={class:`option-title`},ye={class:`option-list`},be={key:0,class:`flex`},xe={class:`shrink-0`};var Se=h({__name:`console`,setup(r){let a=S([]),s=c(()=>[{title:i(`console.editorOptions`),options:Q(`editor`,a.value),tag:`dbclient-editor`},{title:i(`console.sqlOptions`),options:Q(`sql`,a.value),tag:`dbclient-sql-parser`},{title:i(`console.treeOptions`),options:Q(`treeView`,a.value)},{title:i(`console.resultOptions`),options:Q(`result`,a.value)}]);b(async()=>{_.emit(`options`).on(`options`,({options:e})=>{a.value=e}).on(`configSuccess`,e=>{y({message:e,type:`success`})}).on(`resetSuccess`,e=>{y({message:e,type:`success`}),_.emit(`options`)}).init()});let h=e=>{_.emit(`resetOption`,e)},g=e=>{let t=e.value;e.type==`boolean`&&(t=!e.value,e.value=t),_.emit(`updateOption`,{...e,value:t})};return(r,a)=>{let c=T(`vsc-button`),v=T(`vsc-tooltip`),y=e,b=t,S=n;return x(),f(`div`,ge,[m(he),l(`div`,_e,[(x(!0),f(o,null,C(s.value,(e,t)=>(x(),u(N,{key:t,style:{"max-width":`350px`,"min-width":`300px`}},{default:A(()=>[l(`div`,ve,D(e.title),1),m(v,{title:O(i)(`console.resetConfig`)},{default:A(()=>[m(c,{icon:`codicon-discard`,size:`micro`,onClick:t=>h(e.options)},null,8,[`onClick`])]),_:2},1032,[`title`]),e.tag?(x(),u(v,{key:0,title:`Show More Settings`},{default:A(()=>[m(c,{icon:`codicon-ellipsis`,size:`micro`,onClick:t=>O(_).emit(`openMoreSettings`,e.tag)},null,8,[`onClick`])]),_:2},1024)):d(``,!0),l(`div`,ye,[(x(!0),f(o,null,C(e.options,(e,t)=>(x(),f(`div`,{key:t,class:`option-item`},[O($)[e.name]?(x(),f(`div`,be,[l(`span`,xe,D(e.description),1),m(b,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:`w-28`,size:`small`,onChange:t=>g(e)},{default:A(()=>[(x(!0),f(o,null,C(O($)[e.name],e=>(x(),u(y,{key:e.value,value:e.value,label:e.label},null,8,[`value`,`label`]))),128))]),_:2},1032,[`modelValue`,`onUpdate:modelValue`,`onChange`])])):e.type==`boolean`?(x(),u(S,{key:1,"model-value":e.value,onChange:t=>g(e)},{default:A(()=>[p(D(e.description),1)]),_:2},1032,[`model-value`,`onChange`])):d(``,!0)]))),128))])]),_:2},1024))),128))])])}}}),Ce=s(Se,[[`__scopeId`,`data-v-25cca18a`]]);export{Ce as default};