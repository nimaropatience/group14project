import{$t as e,computed as t,createBaseVNode as n,createCommentVNode as r,createElementBlock as i,createTextVNode as a,createVNode as o,defineComponent as s,error as c,handler as l,openBlock as u,reactive as d,toDisplayString as f,unref as p,vShow as m,withDirectives as h}from"./app-ctFZFRv9.js";import{BaseChartUtil as g,Doughnut as _,Line as v,LineChartData as y,LineChartUtil as ee}from"./lineChartData-DK_2Mziz.js";var b=class extends g{static getOption(e){return{cutout:45,responsive:!0,plugins:{title:{text:e,display:!0}}}}static formatPercent(e){return`${(e*100).toFixed(1)}%`}static getDoughnutData(e){return{datasets:[{data:[e,1-e],borderColor:[`rgb(94, 154, 239)`,`rgb(233, 233, 233)`],backgroundColor:[`rgb(94, 154, 239)`,`rgb(233, 233, 233)`]}]}}};const x={class:`status-container`},S={class:`info-container`},C={style:{display:`inline-block`,"margin-right":`50px`}},w={class:`info-title`},T={key:0},E={class:`info-col`},D=[`innerHTML`],O={class:`info-col`},k={class:`info-col`},A={class:`red`},j={key:1,class:`info-col`},M={style:{display:`inline-block`}},N={class:`info-title`},P={class:`info-col`},F={class:`info-col`},te={class:`info-col`},I=[`innerHTML`],L={class:`info-title`},R={class:`ring-graph-status`},z={class:`donut-inner`},B={class:`ring-graph-status`},V={class:`donut-inner`},H={class:`ring-graph-status`},U={class:`donut-inner`},W={class:`network-container`},G={class:`info-title`},K={style:{height:`300px`}};var q=s({__name:`sshStatus`,setup(s){let g=d({cpu:null,disk:null,memory:null,network:null}),q=d({serverType:`linux`,os:`Loading`,kernelVersion:`Loading`,arch:`x86_64`,hostname:`localhost`,upTime:`0`,diskUsage:{total:`0G`,used:`0G`,available:`0G`,usePercent:0},memoryUsage:{total:`0 GB`,used:`0 GB`,free:`0 MB`,usePercent:0},cpu:{name:``,clock:`0GHz`,logicCoreCount:`0`,usePercent:0},traffic:{labels:[],data1:[],data2:[],tooltips:[],lock:!1,previous:null}}),J=t(()=>q.serverType==`linux`),ne=t(()=>q.serverType!=`macos`),{formatPercent:Y,getDoughnutData:X}=b,Z=t(()=>X(q.cpu.usePercent)),Q=t(()=>X(q.memoryUsage.usePercent)),re=t(()=>X(q.diskUsage.usePercent)),$=new y,ie=$.toChartData();return l.on(`error`,()=>{c(`SSH service connection failed!`)}).on(`serverType`,e=>{q.serverType=e}).on(`info`,e=>{Object.assign(q,e),g.memory||=setInterval(()=>l.emit(`memory`),3e3),q.serverType==`windows`?l.emit(`cpu`):(l.emit(`network`),g.network||=setInterval(()=>l.emit(`network`),1e3)),g.disk||=setInterval(()=>l.emit(`disk`),3e3),g.cpu||=setInterval(()=>l.emit(`cpu`),1e3)}).on(`cpu`,e=>{q.cpu.usePercent=e}).on(`disk`,e=>{q.diskUsage=e}).on(`memory`,e=>{q.memoryUsage=e}).on(`network`,e=>{$.addData(e)}).emit(`init`),(t,s)=>(u(),i(`div`,x,[n(`div`,S,[n(`div`,C,[n(`div`,w,f(p(e)(`sshStatus.systemInfo`))+`: `,1),q.upTime?(u(),i(`div`,T,f(p(e)(`sshStatus.runTime`))+`: `+f(q.upTime),1)):r(``,!0),n(`span`,E,[a(f(p(e)(`sshStatus.arch`))+`: `,1),n(`span`,{innerHTML:q.arch},null,8,D)]),n(`span`,O,f(p(e)(`sshStatus.hostname`))+`: `+f(q.hostname),1),n(`span`,k,[a(f(p(e)(`sshStatus.os`))+`: `,1),n(`span`,A,f(q.os),1)]),J.value?(u(),i(`span`,j,f(p(e)(`sshStatus.kernelVersion`))+`: `+f(q.kernelVersion),1)):r(``,!0)]),n(`div`,M,[n(`div`,N,f(p(e)(`sshStatus.cpuInfo`))+`: `,1),n(`div`,null,[n(`span`,P,f(p(e)(`sshStatus.cpuClock`))+`:`+f(q.cpu.clock),1),n(`span`,F,f(p(e)(`sshStatus.cpuCoreCount`))+`:`+f(q.cpu.logicCoreCount),1),n(`span`,te,[a(f(p(e)(`sshStatus.cpuName`))+`: `,1),n(`span`,{innerHTML:q.cpu.name},null,8,I)])])])]),n(`div`,null,[n(`div`,L,f(p(e)(`sshStatus.systemStatus`))+`: `,1),n(`div`,R,[o(p(_),{options:p(b).getOption(`CPU`),data:Z.value,style:{width:`160px`,height:`160px`}},null,8,[`options`,`data`]),a(` `+f(q.cpu.clock)+` `,1),n(`div`,z,f(p(Y)(q.cpu.usePercent)),1)]),n(`div`,B,[o(p(_),{options:p(b).getOption(p(e)(`sshStatus.memory`)),data:Q.value,style:{width:`160px`,height:`160px`}},null,8,[`options`,`data`]),a(` `+f(q.memoryUsage.used)+`/`+f(q.memoryUsage.total)+` `,1),n(`div`,V,f(p(Y)(q.memoryUsage.usePercent)),1)]),n(`div`,H,[o(p(_),{options:p(b).getOption(p(e)(`sshStatus.disk`)),data:re.value,style:{width:`160px`,height:`160px`}},null,8,[`options`,`data`]),a(` `+f(q.diskUsage.used)+`/`+f(q.diskUsage.total)+` `,1),n(`div`,U,f(p(Y)(q.diskUsage.usePercent)),1)])]),h(n(`div`,W,[n(`div`,G,f(p(e)(`sshStatus.network`))+`: `,1),n(`div`,K,[o(p(v),{style:{height:`100%`},options:p(ee).getOption(!0),data:p(ie)},null,8,[`options`,`data`])])],512),[[m,J.value]])]))}}),J=q;export{J as default};