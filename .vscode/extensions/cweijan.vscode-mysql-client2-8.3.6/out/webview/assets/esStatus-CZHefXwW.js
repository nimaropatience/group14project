import"./isEqual-DUAGDpZY.js";import"./isArrayLikeObject-DWAcihF8.js";import"./merge-XDSJ7w6H.js";import"./_baseIteratee-t-25AuYs.js";import{ElTable as e,ElTableColumn as t}from"./table-Db0XwM4K.js";import"./click-outside-CeocQVdO.js";import"./checkbox-C8nKweXK.js";import{ElTag as n}from"./tag-ByueM0Jv.js";import{createBaseVNode as r,createElementBlock as i,createTextVNode as a,createVNode as o,defineComponent as s,handler as c,normalizeStyle as l,onMounted as u,openBlock as d,ref as f,resolveComponent as p,toDisplayString as m,unref as h,withCtx as g}from"./app-ctFZFRv9.js";const _={class:`flex items-center pl-2 my-1`},v={class:`text-lg font-bold mr-2`},y={class:`w-full bg-[--progressBar-background] rounded-md h-6 relative`},b={class:`absolute inset-0 flex items-center justify-center text-sm text-gray-200`},x={class:`w-full bg-[--progressBar-background] rounded-md h-6 relative`},S={class:`absolute inset-0 flex items-center justify-center text-sm text-gray-200`},C={class:`w-full bg-[--progressBar-background] rounded-md h-6 relative`},w={class:`absolute inset-0 flex items-center justify-center text-sm text-gray-200`};var T=s({__name:`esStatus`,setup(s){let T=f(0),E=f([]);u(()=>{c.on(`esStatus`,e=>{E.value=e}).on(`refresh_es_status`,()=>{c.emit(`esStatus`)}),c.emit(`esStatus`);let e=()=>{T.value=window.innerHeight-110};e(),window.addEventListener(`resize`,e)});let D=e=>{let t=parseInt(e.replace(`%`,``));return t>90?`var(--vscode-charts-red)`:t>60?`var(--vscode-charts-yellow)`:`var(--vscode-charts-green)`};return(s,u)=>{let f=p(`vsc-button`),O=p(`vsc-tooltip`),k=t,A=n,j=e;return d(),i(`div`,null,[r(`div`,_,[r(`div`,v,m(s.$t(`esStatus.node`)),1),o(O,{title:s.$t(`common.refresh`)},{default:g(()=>[o(f,{size:`micro`,icon:`codicon-refresh text-base`,onClick:u[0]||=e=>h(c).emit(`esStatus`)})]),_:1},8,[`title`])]),o(j,{data:E.value,height:T.value,border:``},{default:g(()=>[o(k,{prop:`ip`,label:s.$t(`esStatus.ip`),align:`left`,width:`120`},null,8,[`label`]),o(k,{prop:`name`,label:s.$t(`esStatus.name`),align:`left`,width:`120`},null,8,[`label`]),o(k,{prop:`isMain`,label:s.$t(`esStatus.master`),align:`center`,width:`120`},{default:g(({row:e})=>[o(A,{type:e.isMain?`success`:`info`,class:`mr-2`},{default:g(()=>[a(m(e.isMain?s.$t(`esStatus.yes`):s.$t(`esStatus.no`)),1)]),_:2},1032,[`type`])]),_:1},8,[`label`]),o(k,{prop:`heapPercent`,label:s.$t(`esStatus.heapUsage`),align:`center`,width:`120`},{default:g(({row:e})=>[r(`div`,y,[r(`div`,{class:`h-6 rounded-md`,style:l({width:e.heapPercent,backgroundColor:D(e.heapPercent)})},null,4),r(`div`,b,m(e.heapPercent),1)])]),_:1},8,[`label`]),o(k,{prop:`diskUsage`,label:s.$t(`esStatus.diskUsage`),align:`center`,width:`120`},{default:g(({row:e})=>[r(`div`,x,[r(`div`,{class:`h-6 rounded-md`,style:l({width:e.diskUsage,backgroundColor:D(e.diskUsage)})},null,4),r(`div`,S,m(e.diskUsage),1)])]),_:1},8,[`label`]),o(k,{prop:`cpuUsage`,label:s.$t(`esStatus.cpuUsage`),align:`center`,width:`120`},{default:g(({row:e})=>[r(`div`,C,[r(`div`,{class:`h-6 rounded-md`,style:l({width:e.cpuUsage,backgroundColor:D(e.cpuUsage)})},null,4),r(`div`,w,m(e.cpuUsage),1)])]),_:1},8,[`label`]),o(k,{prop:`load_5m`,label:s.$t(`esStatus.load5m`),align:`center`,width:`100`},null,8,[`label`]),o(k,{prop:`segments.count`,label:s.$t(`esStatus.segmentsCount`),align:`center`,width:`140`},null,8,[`label`]),o(k,{prop:`segments.memory`,label:s.$t(`esStatus.segmentsSize`),align:`center`,width:`140`},null,8,[`label`]),o(k,{prop:`disk.used`,label:`磁盘使用`,align:`center`,width:`100`}),o(k,{prop:`disk.total`,label:`磁盘总量`,align:`center`,width:`100`})]),_:1},8,[`data`,`height`])])}}}),E=T;export{E as default};